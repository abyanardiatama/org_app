<?php

namespace Database\Seeders;

use App\Models\User;
use Illuminate\Support\Str;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;

class UserSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $divisiMapping = [
            'Pengurus Inti' => 1,
            'BK KKMI' => 2,
            'Kaderisasi' => 3,
            'Syiar' => 4,
            'Dana Usaha' => 5,
            'Kemuslimahan' => 6,
            'Media' => 7,
        ];

        $users = [
            // Pengurus Inti
            [
                'name' => 'Muhammad Latief Fadhilah',
                'email' => 'latief.inti@example.com',
                'nim' => '134220093',
                'prodi' => 'Agroteknologi',
                'fakultas' => 'FP',
                'angkatan' => 2022,
                'role' => 'ketua',
                'divisi_id' => $divisiMapping['Pengurus Inti'],
                'amanah' => 'Ketua Umum',
                'no_hp' => '6289526402549',
            ],
            [
                'name' => 'Ayunda Nur Saufani',
                'email' => 'ayunda.inti@example.com',
                'nim' => '143220149',
                'prodi' => 'Ekonomi Pembangunan',
                'fakultas' => 'FEB',
                'angkatan' => 2022,
                'role' => 'wakil',
                'divisi_id' => $divisiMapping['Pengurus Inti'],
                'amanah' => 'Wakil Ketua Umum',
                'no_hp' => '6285156576271',
            ],
            [
                'name' => 'Shinta Nursobah Chairani',
                'email' => 'shinta.inti@example.com',
                'nim' => '123220074',
                'prodi' => 'Informatika',
                'fakultas' => 'FTI',
                'angkatan' => 2022,
                'role' => 'sekretaris',
                'divisi_id' => $divisiMapping['Pengurus Inti'],
                'amanah' => 'Sekretaris Umum',
                'no_hp' => '6285526397492',
            ],
            [
                'name' => 'Vasorofa Nur Rahmadanti',
                'email' => 'vasorofa.inti@example.com',
                'nim' => '122220127',
                'prodi' => 'Teknik Industri',
                'fakultas' => 'FTI',
                'angkatan' => 2022,
                'role' => 'bendahara',
                'divisi_id' => $divisiMapping['Pengurus Inti'],
                'amanah' => 'Bendahara Umum',
                'no_hp' => '6285643162781',
            ],
            // BK KMMI
            [
                'name' => 'Athila Dzaki Azhar',
                'email' => 'athila.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'ketua',
                'divisi_id' => 2, // BK KKMI
                'prodi' => 'Teknik Kimia',
                'fakultas' => 'FTI',
                'angkatan' => '2022',
                'amanah' => 'Ketua Divisi',
                'no_hp' => '6281338807313',
                'nim' => '121220104',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Muhammad Yafi Fathoni',
                'email' => 'yafi.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 2,
                'prodi' => 'Teknik Pertambangan',
                'fakultas' => 'FTM',
                'angkatan' => '2023',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '62895397590200',
                'nim' => '112230094',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Suroya Nazma Huriyah',
                'email' => 'suroya.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 2,
                'prodi' => 'Teknik Kimia',
                'fakultas' => 'FTI',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6285794929638',
                'nim' => '121240132',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Annisa Indriani',
                'email' => 'annisa.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 2,
                'prodi' => 'Akuntansi',
                'fakultas' => 'FEB',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6287736653765',
                'nim' => '142240131',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Farhan Mufid Muhammad',
                'email' => 'farhan.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 2,
                'prodi' => 'Hubungan Internasional',
                'fakultas' => 'FISIP',
                'angkatan' => '2023',
                'amanah' => 'Staff',
                'no_hp' => '6285697677470',
                'nim' => '151230166',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Muhammad Ikhsan Firdaus Saelan',
                'email' => 'ikhsan.bkkmmi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 2,
                'prodi' => 'Informatika',
                'fakultas' => 'FTI',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6281223548394',
                'nim' => '123240202',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            // Kaderisasi
            [
                'name' => 'Maytha Ayu Rachmawati',
                'email' => 'maytha.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'ketua',
                'divisi_id' => 3, // Kaderisasi
                'prodi' => 'Akuntansi',
                'fakultas' => 'FEB',
                'angkatan' => '2022',
                'amanah' => 'Ketua Divisi',
                'no_hp' => '6285879414833',
                'nim' => '142220151',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Isnu Angga Winata',
                'email' => 'isnu.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 3,
                'prodi' => 'Akuntansi',
                'fakultas' => 'FEB',
                'angkatan' => '2023',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6285641660155',
                'nim' => '142230229',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Nisrina Taqiyah',
                'email' => 'nisrina.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 3,
                'prodi' => 'Administrasi Bisnis',
                'fakultas' => 'FISIP',
                'angkatan' => '2022',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6289676166609',
                'nim' => '152220065',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Tabriza Aqila',
                'email' => 'tabriza.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 3,
                'prodi' => 'Hubungan Masyarakat',
                'fakultas' => 'FISIP',
                'angkatan' => '2023',
                'amanah' => 'Staff',
                'no_hp' => '62895326932277',
                'nim' => '154230022',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Renza Juheni',
                'email' => 'renza.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 3,
                'prodi' => 'Manajemen',
                'fakultas' => 'FEB',
                'angkatan' => '2022',
                'amanah' => 'Staff',
                'no_hp' => '6285147043278',
                'nim' => '141220235',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Ahmad Mu\'tashim Rantisi',
                'email' => 'ahmad.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 3,
                'prodi' => 'Teknik Perminyakan',
                'fakultas' => 'FTM',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6282183844213',
                'nim' => '113240045',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Alfath Hanif Baihaqi',
                'email' => 'alfath.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 3,
                'prodi' => 'Teknik Perminyakan',
                'fakultas' => 'FTM',
                'angkatan' => '2023',
                'amanah' => 'Staff',
                'no_hp' => '6288218144794',
                'nim' => '113230203',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Abyaz Affanzaky Shanahan',
                'email' => 'abyaz.kaderisasi@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 3,
                'prodi' => 'Informatika',
                'fakultas' => 'FTI',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '62895385793113',
                'nim' => '123240130',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            // Syiar
            [
                'name' => 'Haqqil Maulana',
                'email' => 'haqqil.maulana@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Teknik Perminyakan',
                'fakultas' => 'FTM',
                'angkatan' => 22,
                'amanah' => 'Ketua Divisi',
                'no_hp' => '6282261320563',
                'nim' => '113220038',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Azza Jauza Zulfa Laudza Muslim',
                'email' => 'azza.jauza@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Hubungan Masyarakat',
                'fakultas' => 'FISIP',
                'angkatan' => 23,
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6285156784144',
                'nim' => '154230090',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Ridho Wahyu Pratama',
                'email' => 'ridho.wahyu@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Teknik Perminyakan',
                'fakultas' => 'FTM',
                'angkatan' => 23,
                'amanah' => 'Staff',
                'no_hp' => '6289687567744',
                'nim' => '113230153',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Indah Latifa Kamil',
                'email' => 'indah.latifa@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Hubungan Internasional',
                'fakultas' => 'FISIP',
                'angkatan' => 23,
                'amanah' => 'Staff',
                'no_hp' => '6282141664671',
                'nim' => '151230033',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Rina Desi Hartati',
                'email' => 'rina.desi@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Ekonomi Pembangunan',
                'fakultas' => 'FEB',
                'angkatan' => 24,
                'amanah' => 'Staff',
                'no_hp' => '6285716526637',
                'nim' => '143240004',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Rohani',
                'email' => 'rohani@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Teknik Kimia',
                'fakultas' => 'FTI',
                'angkatan' => 24,
                'amanah' => 'Staff',
                'no_hp' => '6282322104770',
                'nim' => '121240105',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Shafiq Shidqi Azizi',
                'email' => 'shafiq.shidqi@example.com',  // Ubah dengan email yang sesuai
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 4,  // Divisi Syiar
                'prodi' => 'Informatika',
                'fakultas' => 'FTI',
                'angkatan' => 24,
                'amanah' => 'Staff',
                'no_hp' => '6285860242402',
                'nim' => '123240085',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            // Dana Usaha
            [
                'name' => 'Aina Uke Nur Aisyah',
                'email' => 'aina.danausaha@example.com',
                'email_verified_at' => now(),
                'role' => 'ketua',
                'divisi_id' => 5, // Dana Usaha
                'prodi' => 'Administrasi Bisnis',
                'fakultas' => 'FISIP',
                'angkatan' => '2023',
                'amanah' => 'Ketua Divisi',
                'no_hp' => '62895324105735',
                'nim' => '152230014',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Syifa Agustina Putri Nurhaliza',
                'email' => 'syifa.danausaha@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 5,
                'prodi' => 'Teknik Lingkungan',
                'fakultas' => 'FTM',
                'angkatan' => '2023',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6285729967870',
                'nim' => '114230023',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Amr Habib Santosa',
                'email' => 'amr.danausaha@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 5,
                'prodi' => 'Manajemen',
                'fakultas' => 'FEB',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '62895339627889',
                'nim' => '141240780',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Amelia Rahmawati',
                'email' => 'amelia.danausaha@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 5,
                'prodi' => 'Administrasi Bisnis',
                'fakultas' => 'FISIP',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '62895366034864',
                'nim' => '152240195',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            //Kemuslimahan
            [
                'name' => 'Afaf Khairunnisa Fadhilah',
                'email' => 'afaf.kemuslimahan@example.com',
                'email_verified_at' => now(),
                'role' => 'ketua',
                'divisi_id' => 6, // Kemuslimahan
                'prodi' => 'Hubungan Masyarakat',
                'fakultas' => 'FISIP',
                'angkatan' => '2022',
                'amanah' => 'Ketua Divisi',
                'no_hp' => '6289674079944',
                'nim' => '154220058',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Hanifah Rahmani Pramestuti',
                'email' => 'hanifah.kemuslimahan@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 6,
                'prodi' => 'Teknik Lingkungan',
                'fakultas' => 'FTM',
                'angkatan' => '2022',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6285800648688',
                'nim' => '114220033',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Alfika Noor Rachmadani',
                'email' => 'alfika.kemuslimahan@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 6,
                'prodi' => 'Manajemen',
                'fakultas' => 'FEB',
                'angkatan' => '2022',
                'amanah' => 'Staff',
                'no_hp' => '6885740224408',
                'nim' => '141220104',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Karima Alhusna',
                'email' => 'karima.kemuslimahan@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 6,
                'prodi' => 'Teknik Kimia',
                'fakultas' => 'FTI',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6282115926415',
                'nim' => '121240199',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Salju Rayu Raya Ristyrouva',
                'email' => 'salju.kemuslimahan@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 6,
                'prodi' => 'D3 Teknik Kimia',
                'fakultas' => 'FTI',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '6281225149494',
                'nim' => '021240026',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            // Media
            [
                'name' => 'Aisha Hauna Amatullah',
                'email' => 'aisha.media@example.com',
                'email_verified_at' => now(),
                'role' => 'ketua',
                'divisi_id' => 7, // Media
                'prodi' => 'Komunikasi',
                'fakultas' => 'FISIP',
                'angkatan' => '2022',
                'amanah' => 'Ketua Divisi',
                'no_hp' => '628112250096',
                'nim' => '153220040',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Faiz Muhammad Al Ghifari',
                'email' => 'faiz.media@example.com',
                'email_verified_at' => now(),
                'role' => 'wakil',
                'divisi_id' => 7,
                'prodi' => 'Informatika',
                'fakultas' => 'FTI',
                'angkatan' => '2023',
                'amanah' => 'Wakil Ketua Divisi',
                'no_hp' => '6281327019714',
                'nim' => '123230128',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Balangga Muhammad',
                'email' => 'balangga.media@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 7,
                'prodi' => 'Agribisnis',
                'fakultas' => 'FP',
                'angkatan' => '2022',
                'amanah' => 'Staff',
                'no_hp' => '6285866311354',
                'nim' => '135220045',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Laviotis Thoriq Pradana',
                'email' => 'laviotis.media@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 7,
                'prodi' => 'Ekonomi Pembangunan',
                'fakultas' => 'FEB',
                'angkatan' => '2024',
                'amanah' => 'Staff',
                'no_hp' => '628882567400',
                'nim' => '143240149',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Rahmat Saktiawan',
                'email' => 'rahmat.media@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 7,
                'prodi' => 'Teknik Perminyakan',
                'fakultas' => 'FTM',
                'angkatan' => '2023',
                'amanah' => 'Staff',
                'no_hp' => '6281274494838',
                'nim' => '113230030',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],
            [
                'name' => 'Falzhafia Najmii Aisyah Archman',
                'email' => 'falzhafia.media@example.com',
                'email_verified_at' => now(),
                'role' => 'anggota',
                'divisi_id' => 7,
                'prodi' => 'Akuntansi',
                'fakultas' => 'FEB',
                'angkatan' => '2023',
                'amanah' => 'Staff',
                'no_hp' => '6287761701659',
                'nim' => '142230347',
                'nip' => null,
                'password' => Hash::make('password'),
                'remember_token' => Str::random(10),
            ],



        ];

        foreach ($users as $data) {
            // Pastikan kunci 'divisi' ada dan valid
            // if (!isset($data['divisi']) || !array_key_exists($data['divisi'], $divisiMapping)) {
            //     throw new \Exception("Undefined or invalid divisi key: " . ($data['divisi'] ?? 'null'));
            // }
        
            User::create([
                'name' => $data['name'],
                'email' => $data['email'],
                // 'email_verified_at' => now(),
                'role' => $data['role'],
                'divisi_id' => $data['divisi_id'],
                'prodi' => $data['prodi'],
                'fakultas' => $data['fakultas'],
                'angkatan' => $data['angkatan'],
                'amanah' => $data['amanah'],
                'no_hp' => $data['no_hp'],
                'nim' => $data['nim'],
                'nip' => $data['nip'] ?? null,
                'password' => $data['password'] ?? Hash::make('password'),
                // 'remember_token' => $data['remember_token'] ?? Str::random(10),
            ]);
        }
    }
}
